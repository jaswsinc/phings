<?xml version="1.0" encoding="UTF-8" ?>

<project>

  <!-- ============================================  -->
  <!-- System notification when complete. -->
  <!-- ============================================  -->

  <target name="-notifications-complete" hidden="true">

    <if>
      <and>
        <equals arg1="${_target}" arg2="${_primary_target}" />
        <contains string="${host.os}" substring="darwin" caseSensitive="false" />
        <not>
          <equals arg1="${_target}" arg2="feature" />
        </not>
        <not>
          <equals arg1="${_target}" arg2="feature-start" />
        </not>
      </and>
      <then>
        <exec executable="terminal-notifier" checkReturn="false">
          <arg value="-group" />
          <arg value="websharks/phings" />

          <arg value="-title" />
          <arg value="$ phing ${_primary_target}" />

          <arg value="-message" />
          <arg value="Completed successfully." />

          <arg value="-contentImage" />
          <arg value="${phing.dir.targets}/../assets/images/ws-icon.png" />

          <arg value="-sound" />
          <arg value="default" />
        </exec>
      </then>
    </if>

  </target>

</project>
